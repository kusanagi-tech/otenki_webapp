import streamlit as st
import requests as req

st.header("ğŸŒãŠå¤©æ°—æƒ…å ±ğŸï¸",anchor='section1',divider='rainbow')

def otenki(): 

    option = st.selectbox(
        "**éƒ½é“åºœçœŒåã‚’é¸æŠ** (ç›´æ¥å…¥åŠ›ã‚‚å¯èƒ½ï¼‰",(code),index = 18,format_func=lambda x:  str(x)+" : " +code[x])

    area = str(code[option])

    url = "https://www.jma.go.jp/bosai/forecast/data/overview_forecast/"+area+".json"
    res = req.get(url)
    weather = res.json()

    body = weather["headlineText"]+weather[u'text']+weather[u'reportDatetime']
    body = body.replace("\n",'')

    st.write(f"**ğŸŒ{weather[u'targetArea']}ã®å¤©æ°—ğŸŒˆ**")
    st.write(body)
    st.write("https://www.jma.go.jp/bosai/forecast/#area_type=offices&area_code="+area)

code = {
'å®—è°·åœ°æ–¹' : '011000', 
 'ä¸Šå·ãƒ»ç•™èŒåœ°æ–¹' : '012000', 
 'ç¶²èµ°ãƒ»åŒ—è¦‹ãƒ»ç´‹åˆ¥åœ°æ–¹' : '013000', 
 'é‡§è·¯ãƒ»æ ¹å®¤åœ°æ–¹ãƒ»åå‹åœ°æ–¹' : '014100', 
 'èƒ†æŒ¯ãƒ»æ—¥é«˜åœ°æ–¹' : '015000', 
 'çŸ³ç‹©ãƒ»ç©ºçŸ¥ãƒ»å¾Œå¿—åœ°æ–¹' : '016000', 
 'æ¸¡å³¶ãƒ»æªœå±±åœ°æ–¹' : '017000', 
 'é’æ£®çœŒ' : '020000', 
 'å²©æ‰‹çœŒ' : '030000', 
 'å®®åŸçœŒ' : '040000', 
 'ç§‹ç”°çœŒ' : '050000', 
 'å±±å½¢çœŒ' : '060000', 
 'ç¦å³¶çœŒ' : '070000', 
 'èŒ¨åŸçœŒ' : '080000', 
 'æ ƒæœ¨çœŒ' : '090000', 
 'ç¾¤é¦¬çœŒ' : '100000', 
 'åŸ¼ç‰çœŒ' : '110000', 
 'åƒè‘‰çœŒ' : '120000', 
 'æ±äº¬éƒ½' : '130000', 
 'ç¥å¥ˆå·çœŒ' : '140000', 
 'æ–°æ½ŸçœŒ' : '150000', 
 'å¯Œå±±çœŒ' : '160000', 
 'çŸ³å·çœŒ' : '170000', 
 'ç¦äº•çœŒ' : '180000', 
 'å±±æ¢¨çœŒ' : '190000', 
 'é•·é‡çœŒ' : '200000', 
 'å²é˜œçœŒ' : '210000', 
 'é™å²¡çœŒ' : '220000', 
 'æ„›çŸ¥çœŒ' : '230000', 
 'ä¸‰é‡çœŒ' : '240000', 
 'æ»‹è³€çœŒ' : '250000', 
 'äº¬éƒ½åºœ' : '260000', 
 'å¤§é˜ªåºœ' : '270000', 
 'å…µåº«çœŒ' : '280000', 
 'å¥ˆè‰¯çœŒ' : '290000', 
 'å’Œæ­Œå±±çœŒ' : '300000', 
 'é³¥å–çœŒ' : '310000', 
 'å³¶æ ¹çœŒ' : '320000', 
 'å²¡å±±çœŒ' : '330000', 
 'åºƒå³¶çœŒ' : '340000', 
 'å±±å£çœŒ' : '350000', 
 'å¾³å³¶çœŒ' : '360000', 
 'é¦™å·çœŒ' : '370000', 
 'æ„›åª›çœŒ' : '380000', 
 'é«˜çŸ¥çœŒ' : '390000', 
 'ç¦å²¡çœŒ' : '400000', 
 'ä½è³€çœŒ' : '410000', 
 'é•·å´çœŒ' : '420000', 
 'ç†Šæœ¬çœŒ' : '430000', 
 'å¤§åˆ†çœŒ' : '440000', 
 'å®®å´çœŒ' : '450000', 
 'å¥„ç¾åœ°æ–¹' : '460040', 
 'é¹¿å…å³¶çœŒï¼ˆå¥„ç¾åœ°æ–¹é™¤ãï¼‰' : '460100', 
 'æ²–ç¸„æœ¬å³¶åœ°æ–¹' : '471000', 
 'å¤§æ±å³¶åœ°æ–¹' : '472000', 
 'å®®å¤å³¶åœ°æ–¹' : '473000', 
 'å…«é‡å±±åœ°æ–¹' : '474000', }

otenki()
st.divider()
st.write('å‡ºå…¸ï¼šæ°—è±¡åº')
st.markdown("[go to Top](#section1)")
